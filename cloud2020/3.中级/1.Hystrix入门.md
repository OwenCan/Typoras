**分布式面临的问题**

分布式系统中应用程序有多个依赖关系，每个依赖关系在某个时候不可避免失败。

如果A依赖B，B依赖C，C依赖其他服务，这就是所谓的”扇出“，如果扇出的某个链路响应时间过程或者未响应，导致级联故障，进而影响系统崩溃，也就是所谓的”雪崩效应“。

**什么是Hystrix**

Hystrix是一个用于分布式系统的延迟和容错的开源库。Hystrix可以保证一个依赖出问题，不会导致整体服务失败，避免级联故障，以提高分布式系统的弹性。

“断路器”本身是一种开关装置，当某个服务单元发生故障时，通过断路器的故障监测（类似保险丝），向调用方返回预期的、可处理的备选响应，而不是长时间的等待或无法处理的异常，保证服务调用方的线程不会被长时间、不必要的占用，避免服务雪崩。

**作用**

1. 服务降级：

   服务器忙，请稍后重试，不让客户端等待，直接给一个很好的提示

   触发条件：程序运行异常、超时等待、服务熔断触发降级、线程池/信号量已满

2. 服务熔断：类似保险丝，达到一定限制条件，直接跳闸不允许请求

3. 服务限流：秒杀等高并发场景，进行服务限流

